@page "/themetest"

<PageSection Title="FestivalMapper • Theme Test">
    <p class="text-secondary mb-4">
        Quick visual check for buttons, alerts, badges, cards, navs, forms, tables, progress, toasts, and a modal — all using your Palette 3 overrides.
    </p>

    <!-- Buttons -->
    <h6 class="mb-2">Buttons</h6>
    <div class="d-flex flex-wrap gap-2 mb-4">
        <button class="btn btn-primary">Primary</button>
        <button class="btn btn-secondary">Secondary</button>
        <button class="btn btn-success">Success</button>
        <button class="btn btn-warning">Warning</button>
        <button class="btn btn-info">Info</button>
        <button class="btn btn-danger">Danger</button>
        <button class="btn btn-outline-primary">Outline Primary</button>
        <button class="btn btn-outline-secondary">Outline Secondary</button>
        <button class="btn btn-primary" disabled>Disabled</button>
    </div>

    <!-- Gradient Buttons -->
    <h6 class="mb-2">Gradient Buttons</h6>
    <div class="d-flex flex-wrap gap-2 mb-4">
        <button class="btn gradient-primary gradient">Primary</button>
        <button class="btn gradient-secondary gradient">Secondary</button>
        <button class="btn gradient-success gradient">Success</button>
        <button class="btn gradient-warning gradient">Warning</button>
        <button class="btn gradient-info gradient">Info</button>
        <button class="btn gradient-danger gradient">Danger</button>
        <button class="btn gradient-primary gradient" disabled>Disabled</button>
    </div>

    <!-- Alerts -->
    <h6 class="mb-2">Alerts</h6>
    <div class="d-grid gap-2 mb-4">
        <div class="alert alert-primary m-0" role="alert">Primary alert — neon pink bg</div>
        <div class="alert alert-secondary m-0" role="alert">Secondary alert — electric blue bg</div>
        <div class="alert alert-success m-0" role="alert">Success alert — laser green bg</div>
        <div class="alert alert-warning m-0" role="alert">Warning alert — festival yellow bg</div>
        <div class="alert alert-info m-0" role="alert">Info alert — neon magenta bg</div>
        <div class="alert alert-danger m-0" role="alert">Danger alert — bright red bg</div>
    </div>

    <!-- Badges -->
    <h6 class="mb-2">Badges</h6>
    <div class="d-flex flex-wrap gap-2 mb-4">
        <span class="badge bg-primary">Primary</span>
        <span class="badge bg-secondary">Secondary</span>
        <span class="badge bg-success">Success</span>
        <span class="badge bg-warning">Warning</span>
        <span class="badge bg-info">Info</span>
        <span class="badge bg-danger">Danger</span>
    </div>

    <!-- Cards & List -->
    <h6 class="mb-2">Card & List Group</h6>
    <div class="row g-3 mb-4">
        <div class="col-12 col-md-6">
            <div class="card h-100">
                <div class="card-body">
                    <h5 class="card-title mb-2">Card Title</h5>
                    <p class="card-text text-secondary">This card should use #101010 surface with #222 border and soft shadow.</p>
                    <a href="#" class="btn btn-primary">Call to Action</a>
                </div>
            </div>
        </div>
        <div class="col-12 col-md-6">
            <ul class="list-group h-100">
                <li class="list-group-item">List item A</li>
                <li class="list-group-item">List item B</li>
                <li class="list-group-item list-group-item-action">Hoverable action</li>
            </ul>
        </div>
    </div>

    <!-- Navs / Tabs / Pills -->
    <h6 class="mb-2">Navs, Tabs & Pills</h6>
    <ul class="nav nav-tabs mb-3" id="demoTabs" role="tablist">
        <li class="nav-item" role="presentation">
            <button class="nav-link active" id="tab-home" data-bs-toggle="tab" data-bs-target="#pane-home" type="button" role="tab">Home</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="tab-profile" data-bs-toggle="tab" data-bs-target="#pane-profile" type="button" role="tab">Profile</button>
        </li>
    </ul>
    <div class="tab-content mb-4">
        <div class="tab-pane fade show active" id="pane-home" role="tabpanel">
            <p class="text-secondary">Active tab underline/border should be neon pink.</p>
        </div>
        <div class="tab-pane fade" id="pane-profile" role="tabpanel">
            <p class="text-secondary">Inactive tab text is muted gray.</p>
        </div>
    </div>
    <ul class="nav nav-pills gap-2 mb-4">
        <li class="nav-item"><a class="nav-link active" href="#">Active</a></li>
        <li class="nav-item"><a class="nav-link" href="#">Link</a></li>
    </ul>

    <!-- Forms -->
    <h6 class="mb-2">Forms</h6>
    <form class="row g-3 mb-4">
        <div class="col-md-6">
            <label class="form-label">Text input</label>
            <input type="text" class="form-control" placeholder="Type here…" />
        </div>
        <div class="col-md-6">
            <label class="form-label">Select</label>
            <select class="form-select">
                <option>Option A</option>
                <option>Option B</option>
            </select>
        </div>
        <div class="col-12 d-flex align-items-center gap-3">
            <div class="form-check">
                <input class="form-check-input" type="checkbox" value="" id="check1" checked>
                <label class="form-check-label" for="check1">Checkbox</label>
            </div>
            <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" id="switch1" checked>
                <label class="form-check-label" for="switch1">Switch</label>
            </div>
        </div>
    </form>

    <!-- Table -->
    <h6 class="mb-2">Table</h6>
    <div class="table-responsive mb-4">
        <table class="table table-striped table-hover align-middle">
            <thead>
                <tr><th>#</th><th>Artist</th><th>Stage</th><th>Time</th></tr>
            </thead>
            <tbody>
                <tr><td>1</td><td>Artist A</td><td>Main</td><td>21:00</td></tr>
                <tr><td>2</td><td>Artist B</td><td>Side</td><td>22:15</td></tr>
                <tr><td>3</td><td>Artist C</td><td>Main</td><td>23:30</td></tr>
            </tbody>
        </table>
    </div>

    <!-- Progress / Spinners -->
    <h6 class="mb-2">Progress & Spinners</h6>
    <div class="d-flex align-items-center gap-3 mb-4">
        <div class="progress w-50" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100">
            <div class="progress-bar" style="width:45%">45%</div>
        </div>
        <div class="spinner-border" role="status"><span class="visually-hidden">Loading…</span></div>
        <div class="spinner-grow" role="status"><span class="visually-hidden">Loading…</span></div>
    </div>

    <!-- Toast trigger -->
    <h6 class="mb-2">Toast</h6>
    <div class="d-flex gap-2 mb-4">
        <button class="btn btn-secondary" @onclick="ShowToast">Show Toast</button>
        <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#demoModal">Open Modal</button>
    </div>

    <!-- Toast container -->
    <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 1080">
        <div id="liveToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header">
                <strong class="me-auto">FestivalMapper</strong>
                <small>just now</small>
                <button type="button" class="btn-close ms-2 mb-1" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body">
                This is a themed toast using Palette 3.
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="demoModal" tabindex="-1" aria-labelledby="demoModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="demoModalLabel">Modal Title</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    Modal content should use dark surfaces and neon accents on focus controls.
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Save changes</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Button shimmer -->
    <section class="mb-4">
        <h2 class="h5">Button Shimmer</h2>
        <button class="btn btn-primary shimmer me-2">Save</button>
        <button class="btn btn-outline-light shimmer">Cancel</button>
    </section>

    <!-- Card shimmer -->
    <section class="mb-4">
        <h2 class="h5">Card Shimmer</h2>
        <div class="card shimmer p-3" style="max-width: 18rem;">
            <h5 class="card-title">Festival Mapper</h5>
            <p class="card-text">This card has shimmer overlay.</p>
            <a href="#" class="btn btn-sm btn-secondary">Learn More</a>
        </div>
    </section>

    <!-- Skeletons -->
    <section class="mb-4">
        <h2 class="h5">Skeleton Loader</h2>
        <div class="skeleton shimmer mb-2" style="height: 20px; width: 60%"></div>
        <div class="skeleton shimmer mb-2" style="height: 16px; width: 40%"></div>
        <div class="skeleton shimmer" style="height: 14px; width: 80%"></div>
    </section>

    <!-- Variants -->
    <section>
        <h2 class="h5">Variants</h2>
        <div class="shimmer slow p-2 mb-2 border rounded">Slower shimmer sweep</div>
        <div class="shimmer fast p-2 mb-2 border rounded">Faster shimmer sweep</div>
        <div class="shimmer paused p-2 border rounded">Paused shimmer (no animation)</div>
    </section>

    <hr />

    <Loading />
    <Loading TextClass="text-secondary" />
    <Loading TextClass="text-success" />
    <Loading TextClass="text-warning" />
    <Loading TextClass="text-info" />
    <Loading TextClass="text-danger" />
</PageSection>

@code {
    [Inject] IJSRuntime JS { get; set; } = default!;

    private async Task ShowToast()
    {
        // Initialize and show the Bootstrap toast via JS interop
        await JS.InvokeVoidAsync("eval", @"
        (function(){
          var toastEl = document.getElementById('liveToast');
          if (!toastEl) return;
          var t = bootstrap.Toast.getOrCreateInstance(toastEl);
          t.show();
        })();
      ");
    }
}
